import unittest
import math
import sewpy as sp


class NumericalUnitTest(unittest.TestCase):

    def test_isfloat(self):
        self.assertEqual(sp.isfloat(""), False)
        self.assertEqual(sp.isfloat("-0.000E+00"), True)
        self.assertEqual(sp.isfloat("1234567"), True)
        self.assertEqual(sp.isfloat("NaN"), True)
        self.assertEqual(sp.isfloat("NaNananana BATMAN"), False)
        self.assertEqual(sp.isfloat("123.456"), True)
        self.assertEqual(sp.isfloat("123.E4"), True)
        self.assertEqual(sp.isfloat(".1"), True)
        self.assertEqual(sp.isfloat("1,234"), False)
        self.assertEqual(sp.isfloat("NULL"), False)
        self.assertEqual(sp.isfloat(",1"), False)
        self.assertEqual(sp.isfloat("123.EE4"), False)
        self.assertEqual(sp.isfloat("6.523537535629999e-07"), True)
        self.assertEqual(sp.isfloat("6e777777"), True)
        self.assertEqual(sp.isfloat("iNF"), True)
        self.assertEqual(sp.isfloat("-iNF"), True)
        self.assertEqual(sp.isfloat("infinity"), True)
        self.assertEqual(sp.isfloat("1.797693e+308"), True)
        self.assertEqual(sp.isfloat("2.65773-317"), True)
        self.assertEqual(sp.isfloat("-3.83922-308"), True)
        self.assertEqual(sp.isfloat("-4.10537-305"), True)
        self.assertEqual(sp.isfloat("1.0+9"), True)
        self.assertEqual(sp.isfloat("1.0+1.0"), False)
        self.assertEqual(sp.isfloat("1+1.0"), False)
        self.assertEqual(sp.isfloat("1+1"), False)
        self.assertEqual(sp.isfloat("1-1"), False)
        self.assertEqual(sp.isfloat("2.65773-+317"), False)
        self.assertEqual(sp.isfloat("2f-317"), False)
        self.assertEqual(sp.isfloat("2f-3d"), False)
        self.assertEqual(sp.isfloat("2-2+3d"), False)
        self.assertEqual(sp.isfloat("12.34.56"), False)
        self.assertEqual(sp.isfloat("#56"), False)
        self.assertEqual(sp.isfloat("56f"), False)
        self.assertEqual(sp.isfloat("56.4d"), False)
        self.assertEqual(sp.isfloat("56%"), False)
        self.assertEqual(sp.isfloat("0E0"), True)
        self.assertEqual(sp.isfloat("x86E0"), False)
        self.assertEqual(sp.isfloat(True), True)
        self.assertEqual(sp.isfloat("True"), False)
        self.assertEqual(sp.isfloat("86-5"), False)
        self.assertEqual(sp.isfloat("+1e1^5"), False)
        self.assertEqual(sp.isfloat("+1e1"), True)
        self.assertEqual(sp.isfloat("-+1"), False)
        self.assertEqual(sp.isfloat("-+"), False)
        self.assertEqual(sp.isfloat("+"), False)
        self.assertEqual(sp.isfloat("-"), False)
        self.assertEqual(sp.isfloat("0-0"), False)
        self.assertEqual(sp.isfloat("0.0-0"), True)
        self.assertEqual(sp.isfloat("(1)"), False)
        self.assertEqual(sp.isfloat(None), False)

    def test_getfloat(self):
        self.assertEqual(sp.getfloat("1234567"), 1234567)
        self.assertEqual(math.isnan(sp.getfloat("NaN")), True)
        self.assertEqual(sp.getfloat("123.456"), 123.456)
        self.assertEqual(sp.getfloat("123.E4"), 123.E4)
        self.assertEqual(sp.getfloat(".1"), 0.1)
        self.assertEqual(sp.getfloat("6.523537535629999e-07"), 6.523537535629999e-07)
        self.assertEqual(sp.getfloat("6e777777"), 6e777777)
        self.assertEqual(math.isinf(sp.getfloat("iNF")), True)
        self.assertEqual(math.isinf(sp.getfloat("-iNF")), True)
        self.assertEqual(math.isinf(sp.getfloat("infinity")), True)
        self.assertEqual(sp.getfloat("1.797693e+308"), 1.797693e+308)
        self.assertEqual(sp.getfloat("2.65773-317"), 2.65773e-317)
        self.assertEqual(sp.getfloat("2.65773+317"), 2.65773e+317)
        self.assertEqual(sp.getfloat("2.65773-300"), 2.65773e-300)
        self.assertEqual(sp.getfloat("2.65773-31"), 2.65773e-31)
        self.assertEqual(sp.getfloat("-3.83922-308"), -3.83922e-308)
        self.assertEqual(sp.getfloat("-4.10537-305"), -4.10537e-305)
        self.assertEqual(sp.getfloat("1.0+9"), 1.0e+9)
        self.assertEqual(sp.getfloat("0E0"), 0.0)
        self.assertEqual(sp.getfloat("0.0-0"), 0.0)
        self.assertEqual(sp.getfloat("-0.000E+00"), 0.0)
        self.assertEqual(sp.getfloat("+1e1"), 10)
        self.assertEqual(sp.getfloat("-1e1"), -10)
        self.assertEqual(sp.getfloat("-1.1e1"), -11)
        self.assertEqual(sp.getfloat("+"), "nan")
        self.assertEqual(sp.getfloat("-"), "nan")

